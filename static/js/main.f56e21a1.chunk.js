(this["webpackJsonpnear-clicker-game"]=this["webpackJsonpnear-clicker-game"]||[]).push([[0],{107:function(e,t){},135:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(64),s=n.n(a),o=n(33),i=n(2),l=(n(73),n(6)),u=n(12),j=n(5),b=(n(74),Object({NODE_ENV:"production",PUBLIC_URL:"/near-clicker-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"mycontract.myaccount8.testnet");var d=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:b,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"testnet":return{networkId:"testnet",nodeUrl:"https://near-testnet-rpc.allthatnode.com:3030/behGuAmP10wnjj2EM0NmTHJTI84hZkBt",contractName:b,walletUrl:"https://wallet.testnet.near.org/",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unknown environment '".concat(e,"'."))}},p=n(25),O=n(32),h=d("testnet");function m(){return(m=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.connect)(Object.assign({deps:{keyStore:new p.keyStores.BrowserLocalStorageKeyStore}},h));case 2:return t=e.sent,window.walletConnection=new p.WalletConnection(t),window.accountId=window.walletConnection.getAccountId(),e.next=7,new p.Contract(window.walletConnection.account(),h.contractName,{viewMethods:["get_num"],changeMethods:["increment","reset"]});case 7:window.contract=e.sent;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_num({args:{}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.increment({args:{count:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.reset({args:{}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){window.walletConnection.signOut(),window.location.reload()}function y(){window.walletConnection.requestSignIn(h.contractName)}function S(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O.formatNearAmount,e.next=3,window.walletConnection.account().getAccountBalance();case 3:return e.t1=e.sent.total,e.abrupt("return",(0,e.t0)(e.t1,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(1);var E=function(){var e=window.accountId,t=Object(c.useState)(),n=Object(j.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)("hidden"),o=Object(j.a)(s,2),b=o[0],d=o[1],p=Object(i.f)();Object(c.useEffect)((function(){console.log(b),e&&(O(),d("visible"))}),[e]);var O=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,S();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("header",{children:Object(A.jsxs)("div",{className:"header-titles",children:[Object(A.jsx)("img",{alt:"NEAR Logo",className:"near-logo",src:"/near-clicker-game/near_logo.svg",width:"500"}),Object(A.jsx)("h1",{children:"Clicker Game"})]})}),Object(A.jsxs)("div",{className:"App-container",children:[Object(A.jsxs)("div",{className:"App-menu-container",children:[Object(A.jsxs)("div",{className:"menu",children:[Object(A.jsx)("button",{className:"play-btn",onClick:function(){p("/play",{state:{}})},style:{visibility:b},children:Object(A.jsx)("span",{children:"PLAY"})}),!e&&Object(A.jsx)("p",{children:"Choose your network and Connect wallet"}),e&&Object(A.jsx)("p",{children:"Click as many NEAR Icon as you can within 15 seconds!"})]}),Object(A.jsx)("div",{className:"connect-wallet",children:e?Object(A.jsx)("button",{type:"button",onClick:k,className:"disconnect-btn",children:"DISCONNECT"}):Object(A.jsx)("button",{type:"button",onClick:y,className:"connect-btn",children:"CONNECT WALLET"})})]}),function(){if(e)return Object(A.jsxs)("div",{className:"wallet-info",children:[Object(A.jsx)("p",{children:"address: ".concat(e)}),Object(A.jsx)("p",{children:"balance: ".concat(r," NEAR")})]})}()]})]})},T=n(65),I=function(){var e=Object(c.useState)(15),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(j.a)(a,2),o=s[0],b=s[1],d=Object(c.useState)(!1),p=Object(j.a)(d,2),O=p[0],h=p[1],m=Object(c.useState)({top:"20%",left:"50%"}),w=Object(j.a)(m,2),v=w[0],N=w[1],k=Object(c.useState)(!1),y=Object(j.a)(k,2),S=y[0],C=y[1],E=Object(c.useState)(0),I=Object(j.a)(E,2),_=I[0],M=I[1],R=Object(c.useState)(0),U=Object(j.a)(R,2),L=U[0],P=U[1],B=Object(c.useState)(),D=Object(j.a)(B,2),W=(D[0],D[1],Object(c.useState)()),G=Object(j.a)(W,2),H=G[0],K=G[1];Object(i.e)();Object(c.useEffect)((function(){0===n&&(N({display:"none"}),alert("Game Over! Your score is ".concat(_,". Please confirm transaction to submit score.")),clearInterval(H),b(!0),h(!1))}),[n]);var J=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,f();case 3:return n=e.sent,console.log(n),P(n),e.next=8,g();case 8:C(!1),h(!0),N({top:"20%",left:"50%"}),K(setInterval((function(){r((function(e){return e>0?e-1:0}))}),1e3));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,x(_);case 3:return M(0),e.next=6,f();case 6:n=e.sent,P(n),C(!1),b(!1),r(15);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"score-board-container",children:[Object(A.jsxs)("div",{className:"play-container",children:[Object(A.jsxs)("div",{className:"score-menu",children:[Object(A.jsxs)("span",{children:["Previous Score: ",L]}),Object(A.jsxs)("span",{children:["Current Score: ",_]})]}),!1===o?Object(A.jsx)("button",{className:"game-btn",onClick:function(e){return J(e)},children:"GAME START"}):Object(A.jsx)("button",{className:"game-btn",onClick:function(e){return F(e)},children:"TRANSACTION"}),Object(A.jsxs)("span",{children:["Time left: ",n," s"]})]}),Object(A.jsxs)("div",{className:"game-container",children:[O&&Object(A.jsx)("img",{src:"/near-clicker-game/near-mark.svg",alt:"Target",id:"target",style:Object(T.a)({position:"absolute"},v),onClick:function(){M((function(e){return e+1})),N({top:"".concat(Math.floor(80*Math.random()+10),"%"),left:"".concat(Math.floor(80*Math.random())+10,"%")})}}),S&&Object(A.jsx)("div",{className:"loading-msg",children:"Loading..."})]})]})};window.nearInitPromise=function(){return m.apply(this,arguments)}().then((function(){f().then(console.log),s.a.createRoot(document.getElementById("root")).render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsxs)("div",{className:"App-header",children:[Object(A.jsx)(o.a,{basename:"/near-clicker-game",children:Object(A.jsxs)(i.c,{children:[Object(A.jsx)(i.a,{path:"/",element:Object(A.jsx)(E,{})}),Object(A.jsx)(i.a,{path:"/play",element:Object(A.jsx)(I,{})})]})}),Object(A.jsxs)("div",{className:"footer-container",children:[Object(A.jsx)("span",{children:"Made with"}),Object(A.jsx)("img",{src:"/near-clicker-game/dsrv.png",id:"footer-logo",alt:"dsrv-logo"})]})]})}))})).catch(console.error)},73:function(e,t,n){},74:function(e,t,n){},79:function(e,t){},89:function(e,t){}},[[135,1,2]]]);
//# sourceMappingURL=main.f56e21a1.chunk.js.map